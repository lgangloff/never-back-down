<div class="card">
  <div class="card-block">
    <form novalidate (ngSubmit)="onSubmit()" #fileForm="ngForm" >

      <alert-error [error]="error"></alert-error>


      <div class="row form-group" *ngIf="file.id">
        <div class="col-12">
            <input type="text" class="form-control" id="id" name="id" [(ngModel)]="file.id" readonly>
        </div>
      </div>
      <div class="row form-group" *ngIf="file.uuid">
        <div class="col-12">
            <input type="text" class="form-control" id="uuid" name="uuid" [(ngModel)]="file.uuid" readonly>
        </div>
      </div>
      <div class="row form-group" *ngIf="file.contentType">
        <div class="col-12">
            <input type="text" class="form-control" id="contentType" name="contentType" [(ngModel)]="file.contentType" readonly>
        </div>
      </div>
      <div class="row form-group" *ngIf="file.name">
        <div class="col-6">
            FileName
        </div>
        <div class="col-6">
            <div *ngIf="file.contentType.indexOf('image') != -1">
              Preview
            </div>
        </div>
        <div class="col-6 vcenter">
            <a href="api/dl-files/{{file.uuid}}" target="_blank">
              {{file.name}}
            </a>
        </div>
        <div class="col-6">
            <img src="api/dl-files/{{file.uuid}}" height="200px" *ngIf="file.contentType.indexOf('image') != -1"/>
        </div>
      </div>

      <div class="row form-group" *ngIf="!file.id">
        <div class="col-12">
            <input type="file" class="form-control" #fileInput>
        </div>
      </div>

      <div class="form-group">
        <button type="button" class="btn btn-danger" (click)="delete()">Supprimer</button>
        <div class="float-right">
          <button type="button" class="btn btn-secondary" (click)="cancel()">Annuler</button>
          <submit-button [status]="status" [disabled]="!fileForm.form.valid" [value]="'Valider'"  *ngIf="!file.id"></submit-button>
        </div>
      </div>

    </form>
  </div>
</div>